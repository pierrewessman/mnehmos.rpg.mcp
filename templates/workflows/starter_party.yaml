# Starter Party Workflow
# Creates a classic 4-person adventuring party ready to play

name: Starter Party
description: Creates a complete 4-person adventuring party with a fighter, cleric, rogue, and wizard.
version: "1.0.0"
author: Quest Keeper AI

parameters:
  partyName:
    type: string
    description: Name for the adventuring party
    default: "The Brave Companions"
  level:
    type: number
    description: Starting level for all characters
    default: 1

steps:
  - name: create_fighter
    tool: create_character
    params:
      name: "Valeros"
      class: "Fighter"
      race: "Human"
      level: "{{level}}"
      hp: 12
      maxHp: 12
      ac: 16
      stats:
        str: 16
        dex: 14
        con: 14
        int: 10
        wis: 12
        cha: 10
      characterType: pc
    storeAs: fighter

  - name: create_cleric
    tool: create_character
    params:
      name: "Kyra"
      class: "Cleric"
      race: "Human"
      level: "{{level}}"
      hp: 10
      maxHp: 10
      ac: 16
      stats:
        str: 14
        dex: 10
        con: 12
        int: 10
        wis: 16
        cha: 14
      characterType: pc
      knownSpells:
        - "Cure Wounds"
        - "Bless"
        - "Sacred Flame"
    storeAs: cleric

  - name: create_rogue
    tool: create_character
    params:
      name: "Merisiel"
      class: "Rogue"
      race: "Elf"
      level: "{{level}}"
      hp: 9
      maxHp: 9
      ac: 14
      stats:
        str: 10
        dex: 18
        con: 12
        int: 14
        wis: 10
        cha: 12
      characterType: pc
    storeAs: rogue

  - name: create_wizard
    tool: create_character
    params:
      name: "Ezren"
      class: "Wizard"
      race: "Human"
      level: "{{level}}"
      hp: 8
      maxHp: 8
      ac: 12
      stats:
        str: 8
        dex: 14
        con: 12
        int: 18
        wis: 12
        cha: 10
      characterType: pc
      knownSpells:
        - "Magic Missile"
        - "Shield"
        - "Mage Armor"
        - "Fire Bolt"
    storeAs: wizard

  - name: create_party
    tool: create_party
    dependsOn:
      - create_fighter
      - create_cleric
      - create_rogue
      - create_wizard
    params:
      name: "{{partyName}}"
      status: active
    storeAs: party

  - name: add_fighter_to_party
    tool: add_party_member
    dependsOn:
      - create_party
    params:
      partyId: "{{party.id}}"
      characterId: "{{fighter.id}}"
      role: leader

  - name: add_cleric_to_party
    tool: add_party_member
    dependsOn:
      - create_party
    params:
      partyId: "{{party.id}}"
      characterId: "{{cleric.id}}"
      role: healer

  - name: add_rogue_to_party
    tool: add_party_member
    dependsOn:
      - create_party
    params:
      partyId: "{{party.id}}"
      characterId: "{{rogue.id}}"
      role: scout

  - name: add_wizard_to_party
    tool: add_party_member
    dependsOn:
      - create_party
    params:
      partyId: "{{party.id}}"
      characterId: "{{wizard.id}}"
      role: mage

output:
  include:
    - create_party
  summary: "Created party '{{partyName}}' with 4 members: Valeros (Fighter), Kyra (Cleric), Merisiel (Rogue), Ezren (Wizard)"
